<%-
import 'context'
import model.package
import 'google.golang.org/appengine/datastore'
-%>

func (s *<%= type.name %>) Save(ctx context.Context, m *<%= model.qualified_name %>) (*datastore.Key, error) {
	if m.IsPersisted() {
		return s.Update(ctx, m)
	} else {
		return s.Create(ctx, m)
	}
}
